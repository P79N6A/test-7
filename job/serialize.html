<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>序列化 和 反序列化</title>
  <style>
    html,body{height: 100%;}
    #json{
      width:80%;
      height:80%;
      margin-left:10%;
      border:2px solid skyblue;
      padding:10px;
      font-size: 15px;
    }
    button{
      width: 30%;
      height:50px;
      border: 1px solid #ccc;
      border-radius: 3px;
      background: white;
      font-size: 20px;
      color: black;
      margin:20px 10%;
    }
  </style>
</head>
<body>
  <textarea name="json" id="json" cols="30" rows="10">
{
  "baidu": {
    "downUrl": "",
    "logo": "",
    "coupon": "",
    "rule": ""
  },
  "foo": {
    "downUrl": "",
    "logo": "",
    "coupon": "",
    "rule": ""
  },
  "bar": {
    "downUrl": "",
    "logo": "",
    "coupon": "",
    "rule": ""
  },
  "goo": {
    "downUrl": "",
    "logo": "",
    "coupon": "",
    "rule": ""
  },
  "hoo": {
    "downUrl": "",
    "logo": "",
    "coupon": "",
    "rule": ""
  },
  "zoo": {
    "downUrl": "",
    "logo": "",
    "coupon": "",
    "rule": ""
  },
  "joo": {
    "downUrl": "",
    "logo": "",
    "coupon": "",
    "rule": ""
  }
}
  </textarea>
  <button id="serializeBtn">序列化</button><button id="parseBtn">反序列化</button>
  <script>
  function $ (id){ return document.getElementById(id); }
  var sbtn = $('serializeBtn');
  var pbtn = $('parseBtn');
  var jsonta = $('json');
  sbtn.onclick = function(){
    var curVal = jsonta.value;
    // var curVal = jsonta.value.replace(/\s/g,"");
    var obj = JSON.parse(curVal);
    console.log(obj);

    jsonta.value = JSON.stringify(obj,"","");
  }
  pbtn.onclick = function(){
    var curVal = jsonta.value;
    // console.log(curVal);
    var obj = JSON.parse(curVal);
    jsonta.value = JSON.stringify(obj,"",'  ');
  }

  </script>
</body>
</html>