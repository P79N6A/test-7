<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title>测试 图片大小对加载速度的影响</title>
    <style type="text/css">
    img{width: 100%; }
    </style>
</head>
<body>
    <ul>
        <li></li>
    </ul>

    <div>承了意大利的光荣的传统。法切蒂、卡布里尼、马尔蒂尼在这一刻灵魂附体！格罗索一个人他代表了意大利足球悠久的历史和传统，在这一刻他不是一个人在承了意大利的光荣的传统。法切蒂、卡布里尼、马尔蒂尼在这一刻灵魂附体！格罗索一个人他代表了意大利足球悠久的历史和传统，在这一刻他不是一个人在</div>
    <div>承了意大利的光荣的传统。法切蒂、卡布里尼、马尔蒂尼在这一刻灵魂附体！格罗索一个人他代表了意大利足球悠久的历史和传统，在这一刻他不是一个人在承了意大利的光荣的传统。法切蒂、卡布里尼、马尔蒂尼在这一刻灵魂附体！格罗索一个人他代表了意大利足球悠久的历史和传统，在这一刻他不是一个人在</div>
    


    <div id="imgDiv"></div>
    <div style="display: none;" id="hideDiv"></div>
    <script type="text/javascript">
        var urlsTwoDomain = [
            'http://b.appsimg.com/2016/10/14/6836/d60118cfb311a240f1ee686996812b7a.jpg',
            'http://b.appsimg.com/2016/10/14/4320/9054bf8702b77b9ef552bcf0c78219cf.jpg',
            'http://b.appsimg.com/2016/10/14/1207/9054bf8702b77b9ef552bcf0c78219cf.jpg',
            'http://b.vimage1.com/2016/10/14/9747/03f90446341e91fe2c15c51d615827ce.jpg',
            'http://b.vimage1.com/2016/10/14/5294/655e37d64b0c603e29487c9cdbbbc187.jpg',
            'http://b.vimage1.com/2016/10/14/1306/655e37d64b0c603e29487c9cdbbbc187.jpg',
            'http://b.vimage1.com/2016/10/14/6063/655e37d64b0c603e29487c9cdbbbc187.jpg',
            'http://b.vimage1.com/2016/10/14/1456/655e37d64b0c603e29487c9cdbbbc187.jpg',
            'http://b.appsimg.com/2016/10/14/5250/655e37d64b0c603e29487c9cdbbbc187.jpg',
            'http://b.appsimg.com/2016/10/14/9175/655e37d64b0c603e29487c9cdbbbc187.jpg',
            'http://b.appsimg.com/2016/10/14/9564/655e37d64b0c603e29487c9cdbbbc187.jpg',
            'http://b.appsimg.com/2016/10/14/4121/655e37d64b0c603e29487c9cdbbbc187.jpg',
            'http://b.appsimg.com/2016/10/14/3143/655e37d64b0c603e29487c9cdbbbc187.jpg',
            'http://b.appsimg.com/2016/10/14/9821/655e37d64b0c603e29487c9cdbbbc187.jpg',
            'http://b.vimage1.com/2016/10/14/2275/655e37d64b0c603e29487c9cdbbbc187.jpg',
            'http://b.vimage1.com/2016/10/14/4763/655e37d64b0c603e29487c9cdbbbc187.jpg',
            'http://b.vimage1.com/2016/10/14/7794/cf80baf0435d2cfc50325b2d271e1eb6.jpg',
            'http://b.vimage1.com/2016/10/14/7322/37229f4f986a2f7ff6e79989a510d1f8.jpg'
        ];

        var urlsOneDomain = [
            'http://b.appsimg.com/2016/10/14/6836/d60118cfb311a240f1ee686996812b7a.jpg',
            'http://b.appsimg.com/2016/10/14/4320/9054bf8702b77b9ef552bcf0c78219cf.jpg',
            'http://b.appsimg.com/2016/10/14/1207/9054bf8702b77b9ef552bcf0c78219cf.jpg',
            'http://b.appsimg.com/2016/10/14/9747/03f90446341e91fe2c15c51d615827ce.jpg',
            'http://b.appsimg.com/2016/10/14/5294/655e37d64b0c603e29487c9cdbbbc187.jpg',
            'http://b.appsimg.com/2016/10/14/1306/655e37d64b0c603e29487c9cdbbbc187.jpg',
            'http://b.appsimg.com/2016/10/14/6063/655e37d64b0c603e29487c9cdbbbc187.jpg',
            'http://b.appsimg.com/2016/10/14/1456/655e37d64b0c603e29487c9cdbbbc187.jpg',
            'http://b.appsimg.com/2016/10/14/5250/655e37d64b0c603e29487c9cdbbbc187.jpg',
            'http://b.appsimg.com/2016/10/14/9175/655e37d64b0c603e29487c9cdbbbc187.jpg',
            'http://b.appsimg.com/2016/10/14/9564/655e37d64b0c603e29487c9cdbbbc187.jpg',
            'http://b.appsimg.com/2016/10/14/4121/655e37d64b0c603e29487c9cdbbbc187.jpg',
            'http://b.appsimg.com/2016/10/14/3143/655e37d64b0c603e29487c9cdbbbc187.jpg',
            'http://b.appsimg.com/2016/10/14/9821/655e37d64b0c603e29487c9cdbbbc187.jpg',
            'http://b.appsimg.com/2016/10/14/2275/655e37d64b0c603e29487c9cdbbbc187.jpg',
            'http://b.appsimg.com/2016/10/14/4763/655e37d64b0c603e29487c9cdbbbc187.jpg',
            'http://b.appsimg.com/2016/10/14/7794/cf80baf0435d2cfc50325b2d271e1eb6.jpg',
            'http://b.appsimg.com/2016/10/14/7322/37229f4f986a2f7ff6e79989a510d1f8.jpg',
        ];

        var urlsOneDomain2 = [
            'http://b.vimage1.com/2016/10/14/6836/d60118cfb311a240f1ee686996812b7a.jpg',
            'http://b.vimage1.com/2016/10/14/4320/9054bf8702b77b9ef552bcf0c78219cf.jpg',
            'http://b.vimage1.com/2016/10/14/1207/9054bf8702b77b9ef552bcf0c78219cf.jpg',
            'http://b.vimage1.com/2016/10/14/9747/03f90446341e91fe2c15c51d615827ce.jpg',
            'http://b.vimage1.com/2016/10/14/5294/655e37d64b0c603e29487c9cdbbbc187.jpg',
            'http://b.vimage1.com/2016/10/14/1306/655e37d64b0c603e29487c9cdbbbc187.jpg',
            'http://b.vimage1.com/2016/10/14/6063/655e37d64b0c603e29487c9cdbbbc187.jpg',
            'http://b.vimage1.com/2016/10/14/1456/655e37d64b0c603e29487c9cdbbbc187.jpg',
            'http://b.vimage1.com/2016/10/14/5250/655e37d64b0c603e29487c9cdbbbc187.jpg',
            'http://b.vimage1.com/2016/10/14/9175/655e37d64b0c603e29487c9cdbbbc187.jpg',
            'http://b.vimage1.com/2016/10/14/9564/655e37d64b0c603e29487c9cdbbbc187.jpg',
            'http://b.vimage1.com/2016/10/14/4121/655e37d64b0c603e29487c9cdbbbc187.jpg',
            'http://b.vimage1.com/2016/10/14/3143/655e37d64b0c603e29487c9cdbbbc187.jpg',
            'http://b.vimage1.com/2016/10/14/9821/655e37d64b0c603e29487c9cdbbbc187.jpg',
            'http://b.vimage1.com/2016/10/14/2275/655e37d64b0c603e29487c9cdbbbc187.jpg',
            'http://b.vimage1.com/2016/10/14/4763/655e37d64b0c603e29487c9cdbbbc187.jpg',
            'http://b.vimage1.com/2016/10/14/7794/cf80baf0435d2cfc50325b2d271e1eb6.jpg',
            'http://b.vimage1.com/2016/10/14/7322/37229f4f986a2f7ff6e79989a510d1f8.jpg',
        ];

        

        var ratio = 1/4;
        var quanlity = 90;
        var oriSize = '750x1000';
        var suffix = getSuffix();
        var isResize = 0;
        var isOneDomain = 1;

        var urls = isOneDomain ? urlsOneDomain : urlsTwoDomain;

        function getSuffix () {
            var size = oriSize.split('x');
            var w = Math.floor(size[0]*ratio);
            var h = Math.floor(size[1]*ratio);
            return '_' + [w, h].join('x') + '_' + quanlity;
        }

        function loadimgs (tip) {
            console.info('in loadimgs', tip || '', '    suffix: ', suffix, '       isResize: ', isResize, '        isOneDomain:', isOneDomain);
            var re = /([^\/]*)(\.(?:jpg|png|gif))$/;
            urls.forEach(url => {
                var img = new Image();
                if (isResize) {
                    url = url.replace(re, (m, base, ext) => {
                        return base + suffix + ext;
                    });
                }
                img.src = url;
                // console.info(url);
                imgDiv.appendChild(img);
            });
        }
    </script>

    <script src="http://cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>
    <script type="text/javascript">
    
    

    $(function() {
        loadimgs('after dom ready..');
    });
    </script>
</body>
</html>